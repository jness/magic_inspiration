{% extends 'base.html' %}


{% block title %}
Cards
{% endblock %}


{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/cards.css') }}">
{% endblock %}


{% block javascript %}
<script src="{{ url_for('static', filename='js/cards.js') }}"></script>
<script src="{{ url_for('static', filename='js/lazyload.js') }}"></script>
{% endblock %}


{% block content %}

<!-- Begin card search form -->
<div class="container">

  <form action="/card_search" method="GET">

  <div class="form-row">

    <!-- Search input -->
    <div class="col-9">
      <label for="inputName" class="sr-only">Search Text</label>
      <input id="inputName" class="form-control" type="text" name="search_text"
        value="{{ search_text }}" placeholder="..." required autofocus>
    </div>

    <!-- Search button -->
    <div class="col-3">
      <button class="btn btn-block btn-outline-primary" type="submit">Search</button>
    </div>

  </form>

  </div>

</div>
<hr>
<!-- End card search form -->


<!-- Begin card list -->
<div class="container">

  <table id="table" class="table table-striped" style="width:100%">

      <tr>
        <th>Art</th>
        <th>Name</th>
        <th class="d-none d-md-table-cell">Type</th>
      </tr>

      {% for card in cards %}
      <tr>

        {% for key, value in card.image_uris.items() %}
          {% if key == 'art_crop' %}
            <td><a href='/card/{{ card._id }}'><img class="img-thumbnail lazyload" width=175 data-src='{{ value }}'></a></td>
          {% endif %}
        {% endfor %}

        <td><a href='/card/{{ card._id }}'>{{ card.name }}</a></td>
        <td class="d-none d-md-table-cell">{{ card.type_line }}</td>
      </tr>
      {% endfor %}

  </table>

</div>
<!-- End card list -->

{% endblock %}
